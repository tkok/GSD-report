%\section{Introduction} \label{sec:introduction}
The research field of building and home automation experiences a lot of growth - not least because of the promise to reduce energy consumption by more intelligent control, but also due to the possibility of heightened human comfort. Constructing resource efficient buildings makes sense, both in a political and economical perspective. In \cite{janssen2004towards} it is stated that residential buildings use about 82\% in total energy consumption on space and water heating. Electric appliances uses 11\%. One will be able to save on these sources by using policies. Policies can be seen as a general rule that determines what to do in sense of controlling lights, heat, blinds and the likes. An example of a policy could be to turn off heating at midnight. Manually controlling an energy-saving policy is a time-consuming and inefficient task and the user have to know a lot of different equipment as well as information about the building. It is, however, achievable using building automation. 

Regulating the environment of buildings to heighten human comfort, 
%removed: without annoying or irritating them \cite{futurehome} also 
requires that building components can communicate and be controlled in a fashion that seems intuitive for human beings. Buildings today might come equipped with a suite of sensors and actuators, opening up for a degree of customizable control. Our collective need is that buildings can adapt to the users and the sensor-perceived environment. We use the term policy to describe a building automation program, and the term policy engine as the overall software entity that controls the aforementioned policies.

%Rewrote: We define a building automation program as a policy, and the software entity controlling policies we define as the policy engine.

Trivial policies can be based on semi-static data, like time and weekdays. However this can have unforeseen and unwanted consequences. For example, a policy governing lightning activated merely by a static time schedule, might entail problems for people attending a rarely occurring late-night party in the building. If the event calendar of the building is accessible to the policy engine, a conditional event-checking statement might ensure continuous lighting. However, in order to achieve a more fine grained control, sensory input is needed. The interaction with these policies are thought of and developed in respect of a buildings facility management (from now on FM). The task of controlling the policies are also defined as being part of the tasks of FM.

%However, in order to achieve a more fine grained control, sensory input is needed. We define the task of interacting with these policies, as residing with Facility Management (FM). 

By employing a policy engine, with access to the buildings sensors and actuators, both the building owner, the users and the administrators of the building benefits from the automation provided. If policies are correctly defined, building owners save energy and natural resources while providing extra comfort to their tenants. 

As stated in~\cite{ba-short} \textit{Worldwide, there is no doubt that efficient energy saving is only possible with modern BA based on networking in all levels of abstraction}.

Building users can experience a building autonomously adjusting its internal environment to suit their comfort and needs, while FM can achieve fine-grained control of the building.

This project was defined in the course Global Software Development at ITU. Our global development team consists of 5 students from IT-University of Copenhagen and 4 from Strathmore University, Nairobi Kenya. We have been provided a Building Simulator, making up for the lack of a real building. The complexity with integrating to hardware and communication protocols are therefore avoided, however the simulator has provided other complexities as will be evident later in this paper. The development focus of this project is therefore geared towards this simulator. The end product is a web-based management console, that allow for centralized flow control between sensors and actuators in the simulated building. This is achieved by implementing the policy engine that allows for automated actuator responses based on sensor feedback. An example at this would be closing the blinds in excess sunlight or turning of the heater when the windows are open.

In this paper we will; 
\begin{enumerate}
	\item distill requirements from course provided material and a non-exhaustive literature search on policy engines
	\item develop a software solution that implements these requirements.
	\item document the collaborative project between the IT University of Copenhagen, Denmark and Strathmore University, Nairobi Kenya.
\end{enumerate}

\section{Context} \label{sec:context}
Modern buildings get ever more complex - from the type of materials being used, to the services and infrastructure they provide. Our focus in this paper is building automation through the use of governing policies, and therefore economically speaking, relates to the buildings running costs. Today the cost of resources such as gas, diesel and electricity have been generally climbing for the last many years, making it still more important to use them with care. Another cost related to the usage of energy and natural resources are the taxes which also are on the rise. However, economy is not the only factor for saving the planets resources. Today it is considered so good PR to 'go green' that some companies build a virtual presence for this subject alone~\cite{green-google}~\cite{green-facebook}~\cite{green-microsoft}.

A part of the whole 'go green' concept is to control your energy and natural resource usage. Many companies have many buildings that are either heated or cooled (or both), have lighting, appliances and server rooms to name a few. They may already be equipped intelligent heating systems, HVAC systems and AC's but many of these systems are typically proprietary and impossible - or very hard - to integrate with. As mentioned earlier this project integrates into a Building Simulator - which makes our task extremely simple compared to real work applications. We do not have to worry about actual sensor and actuator hardware, wiring, costs, communication protocols, existing protocols, coverage of wireless communication signals and so forth.

We assume the view that the Building Simulator \textit{is} the building. Our system is therefore \textit{open} compared to proprietary, since all it takes to access, for example, the temperature in a room is a http get operation with the building id and sensor in question. In real life settings a janitor might need to go to a room physically to check it's temperature, and adjust the heater in that room, several times a day to achieve and maintain the desired temperature. Our governing policies makes it up for a building janitor. Human staff starts out by defining the policies that the building needs. Then we can imagine the virtual janitor, issuing http get operations all day, to check the sensors mentioned in those policies. The policies consists of sensor-conditional behaviour that will adjust the actuators (by issuing http post commands with sensor id and the desired value) continuously.

\section{Problem} \label{sec:problem}
The task of controlling the buildings likewise gets progressively more complex - especially if that control should be optimized in regards to both economic and human comfort. What good is a highly advanced building if the task of controlling it is just as complex?

We seek to design a system where FM can design the policies they believe is needed, based on their experience with the building. We do not expect FM to be IT experts, but we do expect them to be able to use a Internet browser and be familiar with the sensor id's used in the building

Our main consideration in this paper is; \textit{providing a web-based infrastructure to visually define, manage and monitor the scheduling of governing policies for building subsystems.}

Attached to the above, we further want to point out these challenges;
\begin{enumerate}
	\item The rating of proposed solution's usability
	\item Policy time control and manual override
	\item The use of complex policy datastructures on both frontend and backend
\end{enumerate}

\section{Learning Goals} \label{sec:learninggoals}
The project in itself consists of two widely different aspects, namely Global software development and the policy engine. The new aspect in the project life cycle is for us to collaborate with team members distributed in different continents and countries, with many differences such as cultural and temporal.

These two aspects are also the ones where the main learning goals are derived from. In this regard the goals can be grouped into two different parts. The first being how to collaborate across different countries and the challenges that this would cause, including how to manage the team, how to communicate, how to increase performance and the likes. The secondary being how we can solve the technical project and deliver a working prototype of a policy engine, including creating the domain model, data structure, creating the actual policy engine in a object oriented-manner and tying this together with the visual and user friendly frontend.

One could summarize the learning goals to be: 1. How to work together in a distributed team and reflect on this and 2. How to develop a policy engine that conforms to the stated requirements (see \nameref{sec:requirements}).

\section{Requirements} \label{sec:requirements}
The overall requirements to the project are in a very open-ended manner, with only a few descriptive requirements to the product and process. These are:

\textbf{START COPY/PASTE FROM https://gsd.wikit.itu.dk/Policy+Engine}

Product:
The students analyse their solution from their chosen sensors and actuators requirements (and additional requirements they can think of) into functionality for their application. (30\%)
The students must design and implement a Web/Android application to monitor, control and visualize policies in a building. (20\%)
The students must describe and evaluate their solution as used by facility people as metrics. Additional metrics can be considered and will be taking into consideration by the examiners. (20\%)

Process:
The students should be able to write a proper, understandable and well organized report. (10\%)
The students should be able to reflect on a real world collaborative experience. (20\%).

\textbf{END COPY/PASTE FROM https://gsd.wikit.itu.dk/Policy+Engine}

